<!DOCTYPE html>
<html lang="zh" class="ace ace-card-on ace-tab-nav-on ace-main-nav-on ace-sidebar-on" data-theme-color="#c0e3e7">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>个人主页</title>
    <meta name="description" content="">

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="/personal/fonts/icomoon/style.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/personal/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/edua-icons.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/owl.transitions.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/cubeportfolio.min.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/settings.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/bootsnav.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/style.css">
    <link rel="stylesheet" type="text/css" href="/personal/css/loader.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Quicksand:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">

    <!-- Icon Fonts -->


    <!-- Styles -->
    <link href="/personal/js/plugins/highlight/solarized-light.css" rel="stylesheet">

    <!-- Modernizer -->
    <script type="text/javascript" src="/personal/js/vendor/modernizr-3.3.1.min.js"></script>
</head>



<body>

<div class="wrapper" style="background: white;">
    <section class="section brd-btm">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 clear-mrg text-box">
                    <p class="text-right">
                        <img src="img/uploads/signature.png" alt="" width="40px">
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="section brd-btm" id="personal-info">
        <div class="container">
            <form role="form" class="form-horizontal">
                <div class="col-md-12 clear-mrg">
                    <h2 class="title-thin text-muted">个人信息</h2>
                </div><!-- .col-sm-6 -->
                <div class="mt-30" style="margin-top:30px;"></div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="nickname" class="control-label col-md-2">
                        <i class="icon-user"></i>昵称：
                        <input id="nickname" type="button" data-type="text" class="form-control col-md-5" value="昵称xxx"
                               maxlength="15"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="realName" class="control-label col-md-2">
                        <i class="icon-user-tie"></i>姓名：
                        <input id="realName" type="button" data-type="text" class="form-control col-md-5" value="张大炮"
                               maxlength="15"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="age" class="control-label col-md-2">
                        <i class="icon-number9"></i>年龄：
                        <input id="age" type="button" data-type="number" class="form-control col-md-5" value="24"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="role" class="control-label col-md-2">
                        <i class="icon-aperture"></i>职业：
                        <input id="role" type="button" data-type="text" class="form-control col-md-5" value="学生"
                               style="width: auto;display: inline;"
                               maxlength="10">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="interest" class="control-label col-md-2">
                        <i class="icon-apple"></i>兴趣：
                        <input id="interest" type="button" data-type="text" class="form-control col-md-5" value="敲代码"
                               style="width: auto;display: inline;"
                               maxlength="10">
                    </label>
                </div>
                <div class="form-group pull-right" style="padding-left: 3em;">
                    <span class="btn btn-primary" id="save-info">保存个人信息</span>
                </div>

            </form>
        </div>
    </section><!-- .section -->
    <section class="section brd-btm" id="communication">
        <div class="container">
            <form role="form" class="form-horizontal">
                <div class="col-md-12 clear-mrg">
                    <h2 class="title-thin text-muted">联络方式</h2>
                </div><!-- .col-sm-6 -->
                <div class="mt-30" style="margin-top:30px;"></div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="phone" class="control-label col-md-2">
                        <i class="icon-phone"></i>手机：
                        <input id="phone" type="button" data-type="phone" class="form-control col-md-5" value="183021119xx"
                               maxlength="15"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="email" class="control-label col-md-2"><i class="icon-email"></i>邮箱：
                        <input id="email" type="button" data-type="email" class="form-control col-md-5" value="xxxx1212@qq.com"
                               maxlength="25"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="github" class="control-label col-md-2"><i class="icon-email3"></i>Gits：
                        <input id="github" type="button" data-type="url" class="form-control col-md-5" value="github.com/DKWtno"
                               maxlength="30"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group pull-right" style="padding-left: 3em;">
                    <span class="btn btn-primary" id="save-comm">保存联络方式</span>
                </div>

            </form>
        </div>
    </section>
    <section class="section brd-btm" id="account-info">
        <div class="container">
            <form role="form" class="form-horizontal">
                <div class="col-md-12 clear-mrg">
                    <h2 class="title-thin text-muted">账户信息</h2>
                </div><!-- .col-sm-6 -->
                <div class="mt-30" style="margin-top:30px;"></div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="old-pass" class="control-label col-md-2">
                        <i class="icon-key"></i>旧密码：
                        <input id="old-pass" type="password" class="form-control col-md-5"
                               maxlength="15" placeholder="old password"
                               style="width: auto;display: inline;" autocomplete="new-password">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="new-pass" class="control-label col-md-2">
                        <i class="icon-lock-open"></i>新密码：
                        <input id="new-pass" type="password" class="form-control col-md-5"
                               maxlength="15" placeholder="new password" autocomplete="off"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group" style="padding-left: 3em;">
                    <label for="confirm-pass" class="control-label col-md-2">
                        <i class="icon-locked"></i>确认密码：
                            <input id="confirm-pass" type="password" class="form-control col-md-5"
                               maxlength="15" placeholder="confirm new password" autocomplete="off"
                               style="width: auto;display: inline;">
                    </label>
                </div>
                <div class="form-group pull-right" style="padding-left: 3em;">
                    <span class="btn btn-primary" id="save-pass">修改密码</span>
                </div>

            </form>
        </div>
    </section><!-- .section -->
</div><!-- .padd-box -->

<!-- Scripts -->
<script type="text/javascript" src="/personal/js/vendor/jquery-1.12.4.min.js"></script>
<script>
    $(document).ready(function () {
        initInput($('#personal-info input'));
        initInput($('#communication input'));
        $('#save-info').on('click',function (object) {
            let data = {};
            data.nickname = $('#nickname').val();
            data.realName = $('#realName').val();
            data.age = $('#age').val();
            data.vocation = $('#role').val();
            data.interest = $('#interest').val();
            $.post('/personal/change/info',data,function (msg) {
                msg = JSON.parse(msg);
                parent.window.showToastrMsg(msg.errorCode);
            });
        });
        $('#save-comm').on('click',function (object) {
            let data = {};
            data.phone = $('#phone').val();
            data.email = $('#email').val();
            data.gits = $('#github').val();
            $.post('/personal/change/communication',data,function (msg) {
                msg = JSON.parse(msg);
                parent.window.showToastrMsg(msg.errorCode);
            });
        });
        $('#save-pass').on('click',function (object) {
            let data = {};
            data.old_pass = $('#old-pass').val();
            data.new_pass = $('#new-pass').val();
            data.confirm_pass = $('#confirm-pass').val();
            $.post('/personal/change/password',data,function (msg) {
                msg = JSON.parse(msg);
                parent.window.showToastrMsg(msg.errorCode);
            });
        });
    });
    function initInput($input) {
        $input.click(function () {
            $(this).attr('type',$(this).attr('data-type'));
            $(this).select();
        });
        $input.blur(function () {
            $(this).attr('type','button');
        });
    }
</script>
<!---<script type="text/javascript" src="http://ditu.google.cn/maps/api/js?key=AIzaSyDiwY_5J2Bkv2UgSeJa4NOKl6WUezSS9XA"></script>--->
<script type="text/javascript" src="/personal/js/plugins/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="/personal/js/plugins/jquery.mCustomScrollbar.min.js"></script>
<script type="text/javascript" src="/personal/js/plugins/isotope.pkgd.min.js"></script>
<script type="text/javascript" src="/personal/js/plugins/progressbar.min.js"></script>
<script type="text/javascript" src="/personal/js/plugins/slick.min.js"></script>

<script type="text/javascript" src="/personal/js/options.js"></script>
<script type="text/javascript" src="/personal/js/main.js"></script>

<script src="/personal/js/jquery-2.2.3.js"></script>
<script src="/personal/js/bootstrap.min.js"></script>
<script src="/personal/js/bootsnav.js"></script>
<script src="/personal/js/jquery.appear.js"></script>
<script src="/personal/js/jquery-countTo.js"></script>
<script src="/personal/js/jquery.parallax-1.1.3.js"></script>
<script src="/personal/js/owl.carousel.min.js"></script>
<script src="/personal/js/jquery.cubeportfolio.min.js"></script>
<script src="/personal/js/jquery.themepunch.tools.min.js"></script>
<script src="/personal/js/jquery.themepunch.revolution.min.js"></script>
<script src="/personal/js/revolution.extension.layeranimation.min.js"></script>
<script src="/personal/js/revolution.extension.navigation.min.js"></script>
<script src="/personal/js/revolution.extension.parallax.min.js"></script>
<script src="/personal/js/revolution.extension.slideanims.min.js"></script>
<script src="/personal/js/revolution.extension.video.min.js"></script>
<script src="/personal/js/wow.min.js"></script>
<script src="/personal/js/functions.js"></script>
<script>
    $(document).ready(
        function () {
            $.get('/personal/get/basicInfoAndCom',{},function (data) {
                data = JSON.parse(data);
                if(data.errorCode==='00'){
                    let obj = data.returnObject;
                    $('#nickname').val(obj.nickname);
                    $('#realName').val(obj.realName);
                    $('#age').val(obj.age);
                    $('#role').val(obj.vacation);
                    $('#interest').val(obj.interest);
                    $('#phone').val(obj.phone);
                    $('#email').val(obj.email);
                    $('#github').val(obj.gits);
                }
            });
        }
    );
</script>

</body>
</html>
